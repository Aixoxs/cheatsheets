# Что такое команды-фильтры и почему они таковыми являются

__Команды фильтры__ - могут использоваться в конвейерах: считывают ввод команды, преобразовывают ввод, а затем записывают выходные данные.
Команды-фильтры дают возможность сортировать, просматривать и отбирать часть выходной информации других команд.

# Разница между прямыми и косвенными ссылками

__Символические ссылки__ содержат адрес файла в файловой системе. 

- после удаления файла становятся недействительными
- можно ссылаться как на файлы, так и на каталоги
- права доступа и inode отличаются от исходного файла
- при изменении прав доступа для исходного файла, права на ссылку останутся неизменными
- содержат только имя файла (поэтому при вызове `ls -l` в размере файла будет указываться количество байт, 
необходимых для записи адреса файла)

__Жесткие ссылки__ ссылается на файл. Каждая ссылка - отдельный файл, который ведет к одному  участку диска. 

- при перемещении файла, переименовании все ссылки остаются рабочими
- нельзя ссылаться на каталоги
- работают только в пределах одной файловой системы
- имеют ту же inode и те же права доступа, что исходный файл
- права доступа на ссылку меняются вместе с правами доступа на файл
- при удалении файла ссылка так же удаляется

# Переменные окружения, принципы их работы, экспортирование переменных окружения

__Переменные окружения__ - переменные, определенные оболочкой и используемые программами во время выполнения. 
Могут содержать общие настройки системы, параметры графической или командной оболочки, данные пользователя и др.

Файл `autoexec.bat` служит для задания переменных системного окружения, запуска резидентных и других программ 
при старте системы. 
После определения переменной окружения ОС и программы имеют доступ к их значениям и могут корректировать свою работу 
в соответствии с ними. 

`export` - команда, предназначеная для экспорта переменных и функций текущего процесса в дочерний процесс.
По умолчанию, unix, переменные, созданные в среде родительского процесса не передаются автоматически дочернему. 
При помощи export можно отметить переменную для автоматического экспорта в дочерние процессы.

# Cтандартные потоки ввода-вывода

__Стандартные потоки ввода-вывода__ — потоки процесса, имеющие номер (дескриптор), зарезервированный для выполнения «стандартных» функций.

### Стандартный ввод

Поток номер 0 (stdin) зарезервирован для чтения команд пользователя или входных данных. Для изменения цели этого потока используется
`<`

### Стандартный вывод

Поток номер 1 (stdout) зарезервирован для вывода данных. Для перенаправления этого потока используется `>`. 

### Стандартный вывод ошибок

Поток номер 2 (stderr) зарезервирован для вывода диагностических и отладочных сообщений. Для перенаправления этого
потока используется констукция `2>`

# Назначение каждого столбца вывода команды ls -l

```
-> ls -l
total 6
drwxrwxrwx  2 marina  marina          2 Mar  3 00:36 directory
-rwxrwxrwx   2 marina  marina          7 Mar  3 00:36 file
-rwxrwxrwx   2 marina  marina          7 Mar  3 00:36 hard_link
lrwxrwxrwx   1 marina  marina          4 Mar  3 00:37 soft_link -> file
```

### Каталог (строка 1)

В первом поле задается тип файла и режим доступа к нему. Символ d (directory) в начале 
строки означает, что это каталог. Следующие 9 символов rwx - это режим прав доступа для владельца каталога, членов группы и остальных пользователей. 

Второе поле листинга - счетчик ссылок на каталог. В данном случае 2. Первая - это сам каталог, а вторая - это ссылка <<.>>, 
которая находится внутри каталога и создаётся автоматически. Символические ссылки в счетчике не учитываются.

Следующие два поля определяют владельца и группу файла. 

В следующем поле отображается количество файлов в каталоге. Рассматриваемый каталог имеет 2 файла.

Последние два поля указывают время последней модификации (Mar  3 00:36) и имя каталога (directory).

### Файл (строка 2)

Дефис в первом символе обозначает оычный файл. Далее столбцы интерпретируются также как и в каталог,
за исключением размера файла (указывет размер файла в байтах (7 байт)).

### Прямая ссылка (строка 3)

Файлы file и hard_link равноправны и имеют одинаковый индексный дескриптор (inode), поэтому тут все так же. 
После создания прямой ссылки hard_link, в поле ссылок изменилось число. 

### Косвенная ссылка (строка 4) 

Первый символ обозначается буквой l. Отличительной чертой косвенной ссылки является её размер - 
количество байт, необходимых для хранения пути до файла на который она ссылается.

После имени указан путь, куда ссылается ссылка.

# Основные типы файлов (- d l c b p s)

`-` - обычный файл, `d` - директория, `l` - символическая ссылка,

`p` - именованный канал (pipes) - позволяет различным процессам обмениваться данными. Например, в первой консоли мы пишем `ls -l > pipe`, а потом открывает вторую консоль и `cat < pipe`. Главной особенностью является то, что нам не важен порядок выполнения команд, т.е. мы можем снчала выполнить чтение из канала, а лишь потом записать в него. Результат будет один. 

`c`, `b` - символические и блочные файлы. Блочные файлы устройств используются для передачи данных, разделённых на пакеты фиксированной длины — блоки. А символьные файлы устройств используются для небуферизованного обмена данными (сплошным потоком байт). Необходимы операционной системе для взаимодействия с физическими устройствами, такими как диски и дисководы, принтеры и факсы и т. п. Фактически,  являются указателями на драйверы устройств.

`s` - сокет. Обеспечивает обмен данными между процессами. Отличие от pipoв - может обмениваться на различных ЭВМ, связанных между собой сетью.

# Перенаправление потоков: `>` `<` `>>` `<<` `>&`

`команда1 > файл1` — выполняет команду1, помещая стандартный вывод в файл1

`команда1 < файл1` - выполняет команду1, используя в качестве источника ввода файл1

 `команда1 2> файл1` - выполняет команду1, направляя стандартный поток ошибок в файл1
 
 `команда1 >&2` - выполняет команду1, направляя стандартный ввода в стандартный поток ошибок
 
 `команда1 >> файл1` — выполняет команду1, помещая стандартный вывод в файл1. Разница с `>` в том, что `>>` не перезаписывает файл, 
 а добавляет данные в конец.  
 
 ```
 tr a-z A-Z << END_TEXT
> one two three
> four five six
> END_TEXT
ONE TWO THREE
FOUR FIVE SIX
```
- выполняет команду до тех пор, пока на вход не придет `END_TEXT`

# Назначение файлов `/dev/null`, `/dev/zero`

`/dev/null` — специальный файл, представляющий собой «пустое устройство». Запись в него происходит успешно, независимо от объёма «записанной» информации. Чтение из `/dev/null` эквивалентно считыванию конца файла (EOF).

`/dev/zero` - то же, что и /dev/null/, только представляет собой источник нулевых байтов (ASCII NUL, 0x00). Любые данные, записанные в /dev/zero, будут игнорированы, а сама запись завершается успешно. Пример приминения: "очистка" файла заданного размера или безопасное удаление файла.

# Домашний, рабочий и корневой каталог

__Домашний каталог__ - В домашнем, или начальном, каталоге оказываешься сразу после входа в систему. В него ведет команда `cd`. (Например, в хелиосе - это каталог пользователя sXXXXXX)

__Рабочий каталог__ - тот каталог, в котором находишься в данный момент

__Корневой каталог__ - каталог, включающий в себя все прочие каталоги и файлы файловой системы

# Допустимые и недопустимые символы в имени файла

Недопустимые символы: `/` и `0x00` 

# Порядок выполнения команд и операторов `||`, `&&`, `()`, `{}`

` find . -empty -exec ls {} \;` - ищет пустые файлы, имена подставляет в `{}`.

 `cd aaa && ls` ничего не сделает, если каталога AAA нет
 
 `cd AAA || ls` в любом случае сделает ls
 
 круглые скобки для группировки этого безобразия

# Cочетаниe клавиш `^A`, `^B`, `^C`, `^D`, `^E`, `^F`, `^H`, `^N`, `^P`, `^U`, `^W`, `Esc-B`, `Esc-F`

`^A` - перейти к началу строки

`^B` - назад без удаления

`^C` - отменить процесс

`^D` - удалить следующий символ / закончить ввод текста для многих программ

`^E` - перейти к концу линии

`^F` - вперед без удаления

`^H` - удалить символ перед курсором

`^N` - следующая строка

`^P` - предыдущая строка

`^U` - удаляет строку

`^W` - удаляет слово

`Esc-B` - перемещает курсор к началу предыдущего слова 

`Esc-F` - перемещает курсор к концу следующего слова

# Экранирование спецсимволов в интепретаторе. Работа таких метасимволов, как ', ", \

`\` экранирует следующий за ним символ, что позволяет использовать специальные символы просто как символы, представляющие сами себя (он может экранировать и сам себя - \\)

`'` и `"` различаются при работе с переменными. `echo '$test'` выведет $test, а `echo "$test"` значение переменной. 

`echo ``pwd`` ` выведет рабочую директорию, а `echo 'pwd'` и `echo "pwd"` слово pwd

### Двойные кавычки

- Следует использовать тогда, когда вам нужно размещать значения переменных или вывод команд в рамках строк.
- Все символы интерпретируются обычным образом, за исключением символов $ и ` `` `, которые используются для раскрытия переменных и команд соответственно.

### Одинарные кавычки

- Все символы интерпретируются как строчные символы.

# Отличие терминала от консоли и от командной строки

terminal - текстовая среда ввода / вывода. (в т.ч. ssh , который соединяет терминал на одной машине с программами на другой машине)

console - физический терминал, напрямую подключенным к машине.

Командная строка - это интерфейс, в котором пользователь вводит команду 

# Интерпретация прав доступа применительно к файлам/каталогам/прямым и символическим ссылкам

# Режимы навигации в командной строке. Команды `set -o emacs`, `set -o vi`

