# Что такое анонимные страницы? 

Анонимные страницы - это данные, используемые программами и не ассоциированные с каким-либо файлом.   
Число анонимных страниц для конкретного процесса можно вычислить как разницу между размером резидентной части (resident) 
и разделяемыми страницами (share) в выводе /proc/PID/statm (информация о состоянии памяти в страницах).

# Что такое таблица страниц?

Таблица страниц состоит из 4-байтовых элементов. Эти элементы называются PTE (Page Table Entries)
и представляют собой по сути - указатели на страницы, по формату - структуры данных.

Структура таблиц:

- P (Present - присутствие). Если 0, то страница не отображена на физическую память. 
- R / W (Read / Write - Чтение / Запись). 
- U / S (User / Supervisor - Пользователь / Система). Если 0, то доступ к странице разрешён только с нулевого уровня привилегий, если 1 - то со всех.
- PWT (Write-Through - Сквозная запись). Когда этот флаг установлен, разрешено кэширование сквозной записи для данной страницы, когда сброшен - кэширование обратной записи.
- PCD (Cache Disabled - Кэширование запрещено). 
- A (Accessed - Доступ). Устанавливается процессором каждый раз, когда он производит обращение к данной странице. Процессор не сбрасывает этот флаг - его может может сбросить программа, чтобы потом, через некоторое время определить, был ли доступ к этой странице, или нет.
- D (Dirty - Грязный). Устанавливается каждый раз, когда процессор производит запись в данную страницу. Этот флаг также не сбрасывается процессором.
- PAT (Page Table Attribute Index - Индекс атрибута таблицы страниц). Для процессоров, которые используют таблицу атрибутов страниц, этот флаг используется совместно с флагами PCD и PWT для выбора элемента в PAT, который выбирает тип памяти для страницы.
- G (Global Page - Глобальная страница).  Такая страница остаётся достоверной в кэшах TLB при перезагрузке регистра CR3 или переключении задач. 
- Биты с 9 по 11 не используются процессором.
- Биты с 12 по 31 - это физический адрес

Если страница не присутствует в памяти (бит P=0), то процессор не использует все остальные биты элемента PTE и программа может их использовать по своему усмотрению.

# Какие аргументы принимает longjmp?

`void longjmp(jmp_buf env, int val)` (Си) - переход к заранее сохраненному состоянию. (Вообще, эта штука - аналогия try/catch. `setjmp` 
сохраняет все необходимые указатели в структуре jmp_bu, а `longjmp` получает на вход структуру, 
извлекает из неё указатель следующей инструкции и указатель на вершину стека, и восстанавливает их)

`jmp_buf env` - указатель на структуру, int val - значение, которое вернет setjmp() при восстановлении состояния программы (val нельзя 
присвоить 0, если вы это сделали, то автоматически присвоится 1)

# Что такое побочный эффект?

Побочный эффект возникает, когда вычисление выражение влечёт за собой изменение значения данных в приложении.

x + 15 не дает побочный эффект, так как даст новое значение, но не поменяет переменную, а х++ даст побочный эффект

# Опишите функцию fread() и ее аргументы.

`size_t fread(void *buf, size_t size, size_t count, FILE *stream)`

`void *buf` - указатель на буфер для записи считанных символов, `size_t size` - размер объекта, `size_t count` - количество объектов,
`FILE *stream` - файл для чтения.
Возвращает количество действительно считанных объектов.

# Что такое дескриптор?

Дескриптор представляет собой "ключ", который обеспечивает абстракцию ресурса, по сути он может быть чем угодно:
от целочисленного индекса до указателя на ресурс в пространстве ядра.
Например, ко всем потокам ввода-вывода можно получить доступ через так называемые файловые дескрипторы. 
- 0	Стандартный ввод.
- 1	Стандартный вывод.
- 2	Стандартный вывод сообщений об ошибках.

# Что такое заголовочный файл? Зачем они используются? Объясните подробно и приведите пример.

заголовочный файл — файл, содержимое которого автоматически добавляется препроцессором в исходный текст в том месте, 
где располагается директива  #include <file.h> — основной способ подключить к программе типы данных, структуры, прототипы функций, перечислимые типы и макросы, используемые в другом 
модуле.

Чтобы избежать повторного включения одного и того же кода, используются директивы `#ifndef`, `#define`, `#endif`.

Используется для того, чтобы создавать программы из нескольких модулей, компилируемых по отдельности.

```c
 #ifndef ADD_H
 #define ADD_H
 
 int add(int, int);
 
 #endif
```

# Чему равны старшие биты rax после инструкции mov eax, aah?

Леха сказал, что обнуляет.

# Что делает команда mul?

Для умножения чисел без знака предназначена команда MUL. 
У этой команды только один операнд — второй множитель, который должен находиться в регистре или в памяти.

# Определите тип беззнаковых целых однобайтных чисел num_t?

```c
typedef unsigned char num_t;
```

# Что такое интернирование строк?

Интернирование строк — это механизм, при котором одинаковые литералы представляют собой один объект в памяти.

(В си при любом действии над строкой у нас получается новая строка)

# Какие логические области памяти обычно содержит любая программа?

Сегмент кода;

Сегмент bss (или «неинициализированный сегмент данных»), где хранятся глобальные и статические переменные, инициализированные нулем;

Cегмент данных (или «сегмент инициализированных данных»), где хранятся инициализированные глобальные и статические переменные;

Куча (heap), откуда выделяются динамические переменные;

Стек, где хранятся параметры функции, локальные переменные и другая информация, связанная с функциями.

# Что такое address spase layout randomization?

технология, применяемая в операционных системах, при использовании которой случайным образом изменяется расположение в адресном пространстве процесса важных структур данных, а именно образов исполняемого файла, подгружаемых библиотек, кучи и стека.

Нужна для того, чтобы нельзя было при помощи переполнения буфера получать или изменять конкретные данные. 

# В чем разница между вторым и третьим параметром fread()? 

Второй  параметр `size_t size` говорит о размере объекта (количестве символов), а третий `size_t count` - о количестве объектов

# Напишите пример функции, которая принимает количество аргуметов и сколько угодно чисел типа int, а затем возвращет их среднее

```c
float average(unsigned int n, ...){
    va_list v;
    va_start(v, n);
    int sum = 0;
    for (unsigned int i = 0; i < n; ++i){
        sum += va_arg(v, int);
    }
    va_end(v);
    return (float)sum/n;
}
```

# Чему равно b? int* a = 0x10; int* b = a + 10;

int* a = 0x10; - указывает на ячейку памяти 0x10,

int* b = a + 10; - указывает уже на 0x38 ячейку памяти,

а вот что там - уже никто не знает, вероятно, при обращении к значению b будет seq fault
fault
# Зачем нужны volatile-переменные?

volatile - это квалификатор переменной, указывающий компилятору, что часть кода, которая производит над этой переменной какие-то действия, не должна быть оптимизирована (т.к. значение переменной может быть изменено в любой момент).

# Приведите пример объявления нескольких единиц данных с помощью одной директивы

array1 dw 1,2,3,4,5 

times count db num

???


# Что такое красная зона? 

Зарезервированный участок памяти фиксированного размера (128 байт), который находится вне стека.

"Красная зона" может быть использована для хранения временных данных (до вызова следующей функции), без изменения стека.



