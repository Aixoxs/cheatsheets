# Покажите на примере, что необходимо сделать, чтобы определённую в одном файле функцию вызвать в другом.

```asm
%include "file.asm"
extern func
```

# Опишите алгоритм работы push.

1. rsp умельшается на размер параметра (2, 4 или 8 байт)
2. по адресу из регистра rsp записывается значение 

# Может ли программа работать без стека? Объясните ответ.

Нет. При вызове функций в стек копируется адрес возврата, помещаются регистры, которые используются в данной подпрограмме. 

# Как передать в процедуру больше шести аргументов?

Можно передавать подпрограмме требуемые параметры через стек. Подпрограмма, зная, в каком порядке помещены в стек параметры, может забрать их оттуда и использовать при своем выполнении.

# Что такое memory mapping?

__Memory mapping__ - это "отображение", установление соответствия между физической памятью/фальлами/устройстами и регионами виртуальной памяти.

Используется когда загрузчик заполняет адресное пространство процесса, когда процессор просит у ОС дополнительные страницы, когда ОС отображает файлы с носителя в адресное пространство.

Таким образом, системный вызов `mmap` используется для динамического выделения памяти и отображения в память файлов и устройств. 

# В скомпилированных программах в месте, где логично было бы очищать регистр rax, вместо этого используется команда xor eax, eax. Почему xor и почему только половина, eax?

# Какие отличия чистой архитектуры фон Неймана от архитектуры типичного современного процессора вы можете назвать?

# Что делает препроцессор?

Препроцессор - программа, подготавливающая код программы.

В nasm директивы для препроцессинга начинаются с `%`.
Препроцессор nasm осуществляет _макроподстановку (инстанцирование)_ с параметрами и без, кроме того он может осуществлять операции над строками (конкатенация строк, длинна). 

# В чем отличие директив `%macro` и `%define` ?

`%define` используют для задания констант.

`%macro` многострочный макрос с параметрами.

# Что делает команда jb?

`jb` - переход, если CF=1.

# Что такое секции объектного файла?

Секции - части программы на ассемблере, которые имеют свое логическое предназначение.

Например, в секции `.text` находятся инструкции(есть права на выполнение), в `.data` - глобыльные данные (есть права на чтиние и запись). Кроме того существуют секции для отладчика, секции с данными только для чтения и др.

# Какие регистры должен установить загрузчик перед началом выполнения программы? Объясните, почему именно их.

# Напишите функцию на ассемблере, которая примет две строки и перемешает их содержимое. Например, “abc” и “def” => “adbecf”.

# Что такое канонический адрес?

# Какие логические области памяти обычно содержит любая программа?

# Что такое caller-saved и callee-saved регистры?

# Какие команды, кроме push и pop, используют стек? Назовите хотя бы две.

# Напишите функцию на ассемблере, которая примет строку и подсчитает количество пропусков в ней, состоящих из пробелов или табуляции (вперемешку).

# В чем отличие директивы и ассемблерной команды?

# Что делает команда idiv?

# Можно ли написать программу, где свойство локальности будет нарушено?

# Как ОС понимает, что страница, на которую произошло обращение, вытеснена из ОП?

# Какие регистры должен установить загрузчик перед началом выполнения программы? Объясните, почему именно их.

# Напишите функцию на ассемблере, которая примет строку и подсчитает количество слов в ней из более, чем трёх букв.

# Напишите функцию на ассемблере, которая примет строку, указатель на буфер в памяти и символ. Она заполнит буфер содержимым строки, перемежая символы строки своим третьим аргументом. Например, для строки “abc” и символа “x” результат “axbxcx”.

# Сколько таблиц релокации есть в объектном файле?

# Как с помощью команды lea умножить содержимое rax на 9 в одну команду?

# Что такое нуль-терминированные строки?

# Что хранит регистр rsp?

# Какие регистры изменятся после выполнения команды syscall?

# Чему равны старшие биты rax после инструкции mov eax, aah.

# Подробно опишите процесс трансляции виртуального адреса в физический.

# Напишите функцию на ассемблере, которая примет строку и подсчитает количество слов в ней из более, чем трёх букв.

# Напишите функцию на ассемблере, которая примет строку, указатель на буфер в памяти и символ. Она заполнит буфер содержимым строки, пропуская символы, соответствующие её третьему аргументу. Например, для строки “abc” и символа “b” результат “ac”.
